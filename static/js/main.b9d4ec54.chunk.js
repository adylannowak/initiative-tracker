(this["webpackJsonpinitiative-app"]=this["webpackJsonpinitiative-app"]||[]).push([[0],{54:function(e,t,a){e.exports=a(65)},59:function(e,t,a){},60:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(8),c=a.n(r),l=(a(59),a(12)),o=a(41),u=a(13),d=a(91),m=(a(60),a(102)),s=a(96),v=Object(d.a)((function(e){return{characterAdd:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}}));function g(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(1),o=Object(u.a)(l,2),d=o[0],g=o[1],h=e.handleClick,f=v();return i.a.createElement("div",{className:f.characterAdd,autoComplete:"off"},i.a.createElement(m.a,{id:"character-name",label:"Name",value:r,onChange:function(e){return c(e.target.value)}}),i.a.createElement(m.a,{id:"initiative-result",label:"Initiative",type:"number",value:d,onChange:function(e){return g(e.target.value)}}),i.a.createElement(s.a,{onClick:h(r,d)},"Add"))}var h=a(29),f=Object(d.a)((function(e){return{RoundAndTurn:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}}));function E(e){var t=e.count,a=e.currentTurn,r=e.setCurrentTurn,c=Object(n.useState)(1),l=Object(u.a)(c,2),o=l[0],d=l[1],m=f();return i.a.createElement("div",{className:m.RoundAndTurn},i.a.createElement(h.a,{noWrap:!0},"Round: ",o),t?i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,{onClick:function(e){var n=(a+1)%t;r(n),0===n&&d(o+1)}},"Next Turn"),i.a.createElement(s.a,{onClick:function(e){r(0===a?t-1:a-1),0===a&&d(o-1)},disabled:o<=1&&0===a},"Prev Turn"),i.a.createElement(s.a,{onClick:function(e){d(0),r(0)}},"Reset")):i.a.createElement(h.a,{noWrap:!0},"Add a Character"))}var b=a(11),p=a(95),k=a(100),C=a(101),O=a(97),j=a(45),w=a.n(j),T=a(43),L=a.n(T),y=a(98);function x(e){var t=e.character,a=e.handleClick;return i.a.createElement(i.a.Fragment,null,i.a.createElement(O.a,{onClick:a},i.a.createElement(L.a,null)),i.a.createElement(y.a,{primary:t.name,secondary:t.initiative}))}var I=a(44),S=a.n(I);function N(e){var t=e.index,a=e.character,n=e.handleToggleEdit,r=e.handleChange;return i.a.createElement(i.a.Fragment,null,i.a.createElement(O.a,{onClick:n},i.a.createElement(S.a,null)),i.a.createElement(y.a,{primary:i.a.createElement(m.a,{id:"edit-name-"+t,label:"Name",value:a.name,onChange:r(t,a)}),secondary:i.a.createElement(m.a,{id:"edit-initiative-"+t,type:"number",value:a.initiative,onChange:r(t,a)})}))}var W=a(99);function R(e){return i.a.createElement(i.a.Fragment,null," ",i.a.createElement(W.a,null),i.a.createElement("li",null,i.a.createElement(h.a,{color:"textSecondary",display:"block",variant:"caption"},e.message)))}var A=Object(d.a)((function(e){return{InitiativeList:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}}));function J(e){var t=e.initiativeList,a=e.handleInitiativeToggleEdit,n=e.handleInitiativeListRemove,r=e.handleInitiativeListEdit,c=e.currentTurn,l=A(),o=t.length;return i.a.createElement(p.a,{className:l.characterList},function(e,t){var a=e.slice(),n=a.splice(0,t);return console.log("array returning",t,[].concat(Object(b.a)(a),Object(b.a)(n))),[].concat(Object(b.a)(a),Object(b.a)(n))}(t,c).map((function(e,t){return i.a.createElement(i.a.Fragment,null,0===t?i.a.createElement(R,{message:0===c?"Current Turn Top of the Round":"Current Turn"}):t===o-c?i.a.createElement(R,{message:"Top of the Round"}):null,i.a.createElement(k.a,{key:"character-"+t,alignItems:"flex-start"},e.editing?i.a.createElement(N,{index:t,character:e,handleToggleEdit:a(t),handleChange:r}):i.a.createElement(x,{character:e,handleClick:a(t)}),i.a.createElement(C.a,null,i.a.createElement(O.a,{onClick:n(t)},i.a.createElement(w.a,null)))))})))}var F=function(e,t){window.localStorage.setItem("initiative-tracker-"+e,t)},B=Object(d.a)((function(e){return{root:{width:"100%",maxWidth:360},characterList:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},characterAdd:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}}));var P=function(e){var t=B(),a=Object(n.useState)([e.initiativeList?e.initiativeList:[]]),r=Object(u.a)(a,2),c=r[0],d=r[1],m=function(e){return e.sort((function(e,t){return t.initiative-e.initiative})),e},s=Object(n.useState)(0),v=Object(u.a)(s,2),h=v[0],f=v[1];return Object(n.useEffect)((function(){var e;return d((e="initiativeList",JSON.parse(window.localStorage.getItem("initiative-tracker-"+e))||[])),function(){return F("initiativeList",JSON.stringify(c))}}),[]),i.a.createElement("div",{className:t.root},i.a.createElement(g,{handleClick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Bob",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(a){var n=m(c.concat({name:e,initiative:t,editing:!1}));d(n),F("initiativeList",JSON.stringify(n))}}}),i.a.createElement(E,{count:c.length,currentTurn:h,setCurrentTurn:f}),i.a.createElement(J,{initiativeList:c,setInitiativeList:d,handleInitiativeToggleEdit:function(e){return function(t){c[e].editing=!c[e].editing;var a=m(c.slice());d(a),F("initiativeList",JSON.stringify(a))}},handleInitiativeListRemove:function(e){return function(t){c.splice(e,1),d(c.slice()),F("initiativeList",JSON.stringify(c))}},handleInitiativeListEdit:function(e,t){return function(a){var n=a.target.id.slice(a.target.id.indexOf("-")+1,a.target.id.lastIndexOf("-"));c.splice(e,1,Object(o.a)({},t,Object(l.a)({},n,a.target.value))),d(c.slice())}},currentTurn:h}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.b9d4ec54.chunk.js.map