(this["webpackJsonpinitiative-app"]=this["webpackJsonpinitiative-app"]||[]).push([[0],{67:function(e,t,a){e.exports=a(78)},72:function(e,t,a){},73:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(8),c=a.n(r),l=(a(72),a(50)),o=a(13),u=a(113),s=(a(73),a(56)),d=a.n(s),m=a(124),v=a(128),g=a(125),f=a(126),h=a(38),E=a(12),p=a(127),b=a(116),k=a(120),C=Object(u.a)((function(e){return{characterAdd:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}}));function O(e){console.log("add character props",e);var t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(1),u=Object(o.a)(l,2),s=u[0],d=u[1],m=e.list,v=e.saveList,g=C();return i.a.createElement("div",{className:g.characterAdd,autoComplete:"off"},i.a.createElement(p.a,{id:"character-name",label:"Name",value:r,onChange:function(e){return c(e.target.value)}}),i.a.createElement(p.a,{id:"initiative-result",label:"Initiative",select:!0,type:"number",value:s,onChange:function(e){return d(e.target.value)}},Object(E.a)(Array(50).keys()).map((function(e){return i.a.createElement(b.a,{key:e+1,value:e+1},e+1)}))),i.a.createElement(k.a,{onClick:function(e){return function(e,t){return v(function(e){return e.sort((function(e,t){return t.initiative-e.initiative})),e}(m.concat({name:e,initiative:t,editing:!1}).slice()))}(r,s)}},"Add"))}var y=Object(u.a)((function(e){return{RoundAndTurn:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}}));function j(e){var t=e.count,a=e.currentTurn,r=e.setCurrentTurn,c=Object(n.useState)(1),l=Object(o.a)(c,2),u=l[0],s=l[1],d=y();return i.a.createElement("div",{className:d.RoundAndTurn},i.a.createElement(h.a,{noWrap:!0},"Round: ",u),t?i.a.createElement(i.a.Fragment,null,i.a.createElement(k.a,{onClick:function(e){var n=(a+1)%t;r(n),0===n&&s(u+1)}},"Next Turn"),i.a.createElement(k.a,{onClick:function(e){r(0===a?t-1:a-1),0===a&&s(u-1)},disabled:u<=1&&0===a},"Prev Turn"),i.a.createElement(k.a,{onClick:function(e){s(0),r(0)}},"Reset")):i.a.createElement(h.a,{noWrap:!0},"Add a Character"))}var L=a(119),w=a(79),I=a(123),T=a(80),S=a(55),x=a.n(S),N=a(54),A=a.n(N),J=a(52),W=a.n(J),R=a(121);function F(e){var t=e.character,a=e.handleClick;return i.a.createElement(i.a.Fragment,null,i.a.createElement(T.a,{onClick:a},i.a.createElement(W.a,null)),i.a.createElement(R.a,{primary:t.name,secondary:t.initiative}))}var B=a(53),M=a.n(B);function P(e){var t=e.index,a=e.character,n=e.handleToggleEdit,r=e.handleChange;return i.a.createElement(i.a.Fragment,null,i.a.createElement(T.a,{onClick:n},i.a.createElement(M.a,null)),i.a.createElement(p.a,{select:!0,type:"number",label:"Init",value:a.initiative,onChange:function(e){return r(t,{initiative:e.target.value})}},Object(E.a)(Array(50).keys()).map((function(e){return i.a.createElement(b.a,{key:e,value:e+1},e+1)}))),i.a.createElement(p.a,{id:"edit-name-"+t,label:"Name",value:a.name,onChange:function(e){return r(t,{name:e.target.value})}}))}var $=a(122);function q(e){return i.a.createElement(i.a.Fragment,null," ",i.a.createElement($.a,null),i.a.createElement("li",null,i.a.createElement(h.a,{color:"textSecondary",display:"block",variant:"caption"},e.message)))}var z=Object(u.a)((function(e){return{InitiativeList:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}}));function D(e){var t=e.initiativeList,a=e.handleInitiativeToggleEdit,n=e.handleInitiativeListRemove,r=e.handleInitiativeListEdit,c=e.handleInitiativeListCopy,l=e.currentTurn,o=z(),u=t.length;return i.a.createElement(L.a,{className:o.characterList},function(e,t){var a=e.slice(),n=a.splice(0,t);return[].concat(Object(E.a)(a),Object(E.a)(n))}(t,l).map((function(e,t){return console.log("index, current turn, offset",t,l,(t+l)%u)||i.a.createElement(i.a.Fragment,null,i.a.createElement(q,{message:(0===t?"- Current Turn ":"")+((t+l)%u===0?"- Top of the Round ":"")}),i.a.createElement(w.a,{key:"character-"+t,alignItems:"flex-start"},e.editing?i.a.createElement(P,{index:(t+l)%u,character:e,handleToggleEdit:a((t+l)%u),handleChange:r}):i.a.createElement(F,{character:e,handleClick:a((t+l)%u)}),i.a.createElement(I.a,null,i.a.createElement(T.a,{onClick:c((t+l)%u)},i.a.createElement(A.a,null)),i.a.createElement(T.a,{onClick:n((t+l)%u)},i.a.createElement(x.a,null)))))})))}var G=function(e,t){window.localStorage.setItem("initiative-tracker-"+e,t)},H=function(e){return JSON.parse(window.localStorage.getItem("initiative-tracker-"+e))},K=Object(u.a)((function(e){return{root:{width:"100%"},characterList:{width:"100%",backgroundColor:e.palette.background.paper},characterAdd:{width:"100%",backgroundColor:e.palette.background.paper},drawer:{width:"100%",backgroundColor:e.palette.background.paper},characterAddButton:{float:"right"}}}));var Q=function(e){var t=K(),a=Object(n.useState)(H("initiativeList")||[]),r=Object(o.a)(a,2),c=r[0],u=r[1],s=function(e){return e.sort((function(e,t){return t.initiative-e.initiative})),e},E=Object(n.useState)(0),p=Object(o.a)(E,2),b=p[0],k=p[1];return Object(n.useEffect)((function(){return console.log("getItem",H("initiativeList")),u(H("initiativeList")||[]),function(){return G("initiativeList",JSON.stringify(c))}}),[]),Object(n.useEffect)((function(){return u(s(c)),function(){return u(s(c))}}),[c]),console.log("My List",c),i.a.createElement(m.a,{maxWidth:"sm",className:t.root},i.a.createElement(v.a,null,i.a.createElement(g.a,{expandIcon:i.a.createElement(d.a,null)},i.a.createElement(h.a,null,"Add Character")),i.a.createElement(f.a,null,i.a.createElement(O,{list:c,saveList:function(e){u(e),G("initiativeList",JSON.stringify(e))}}))),i.a.createElement(j,{count:c.length,currentTurn:b,setCurrentTurn:k}),i.a.createElement(D,{initiativeList:c,setInitiativeList:u,handleInitiativeToggleEdit:function(e){return function(t){c[e].editing=!c[e].editing;var a=s(c.slice());u(a),G("initiativeList",JSON.stringify(a))}},handleInitiativeListRemove:function(e){return function(t){c.splice(e,1),u(c.slice()),G("initiativeList",JSON.stringify(c))}},handleInitiativeListEdit:function(e,t){var a=Object.keys(t),n=Object(o.a)(a,1)[0];console.log("key",n,t),console.log("at index",c[e]),c[e][n]=t[n],u(c.slice())},handleInitiativeListCopy:function(e){return function(t){c.splice(e,0,Object(l.a)({},c[e])),u(c.slice()),G("initiativeList",JSON.stringify(c))}},currentTurn:b}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[67,1,2]]]);
//# sourceMappingURL=main.6931913a.chunk.js.map